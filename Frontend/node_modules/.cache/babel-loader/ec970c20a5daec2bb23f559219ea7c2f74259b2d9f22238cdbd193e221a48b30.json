{"ast":null,"code":"export class VacationState {\n  constructor() {\n    this.vacations = [];\n  }\n}\nexport let vacationsActionTypes = /*#__PURE__*/function (vacationsActionTypes) {\n  vacationsActionTypes[\"FetchVacations\"] = \"FetchVacations\";\n  vacationsActionTypes[\"AddVacation\"] = \"AddVacation\";\n  vacationsActionTypes[\"UpdateVacation\"] = \"UpdateVacation\";\n  vacationsActionTypes[\"DeleteVacation\"] = \"DeleteVacation\";\n  vacationsActionTypes[\"FollowAction\"] = \"FollowVacation\";\n  vacationsActionTypes[\"unFollowAction\"] = \"UnFollowAction\";\n  vacationsActionTypes[\"addFollowerAction\"] = \"addFollowerAction\";\n  vacationsActionTypes[\"removeFollowerAction\"] = \"removeFollowerAction\";\n  return vacationsActionTypes;\n}({});\nexport function followAction(vacationId) {\n  const action = {\n    type: vacationsActionTypes.FollowAction,\n    payload: vacationId\n  };\n  return action;\n}\nexport function unFollowAction(vacationId) {\n  const action = {\n    type: vacationsActionTypes.unFollowAction,\n    payload: vacationId\n  };\n  return action;\n}\nexport function addFollowerAction(vacationId) {\n  const action = {\n    type: vacationsActionTypes.addFollowerAction,\n    payload: vacationId\n  };\n  return action;\n}\nexport function removeFollowerAction(vacationId) {\n  const action = {\n    type: vacationsActionTypes.removeFollowerAction,\n    payload: vacationId\n  };\n  return action;\n}\nexport function fetchVacationAction(vacations) {\n  const action = {\n    type: vacationsActionTypes.FetchVacations,\n    payload: vacations\n  };\n  return action;\n}\nexport function addVacationAction(vacation) {\n  const action = {\n    type: vacationsActionTypes.AddVacation,\n    payload: vacation\n  };\n  return action;\n}\nexport function updateVacationAction(vacation) {\n  const action = {\n    type: vacationsActionTypes.UpdateVacation,\n    payload: vacation\n  };\n  return action;\n}\nexport function deleteVacationAction(id) {\n  const action = {\n    type: vacationsActionTypes.DeleteVacation,\n    payload: id\n  };\n  return action;\n}\nexport function vacationsReducer(currentState = new VacationState(), action) {\n  const newState = {\n    ...currentState\n  };\n  switch (action.type) {\n    case vacationsActionTypes.FollowAction:\n      const isFollowingToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload);\n      if (newState.vacations[isFollowingToUpdate].isFollowing === 0) {\n        newState.vacations[isFollowingToUpdate].isFollowing = 1;\n      }\n      break;\n    case vacationsActionTypes.unFollowAction:\n      const isNotFollowingToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload);\n      if (newState.vacations[isNotFollowingToUpdate].isFollowing === 1) {\n        newState.vacations[isNotFollowingToUpdate].isFollowing = 0;\n      }\n      break;\n    case vacationsActionTypes.addFollowerAction:\n      let indexToAddFollow = newState.vacations.findIndex(v => v.vacationId === action.payload);\n      if (indexToAddFollow >= 0) {\n        newState.vacations[indexToAddFollow].followersCount += 1;\n        indexToAddFollow = -1;\n      }\n      break;\n    case vacationsActionTypes.removeFollowerAction:\n      let indexToRemoveFollow = newState.vacations.findIndex(v => v.vacationId === action.payload);\n      if (indexToRemoveFollow >= 0) {\n        if (newState.vacations[indexToRemoveFollow].followersCount > 0) {\n          newState.vacations[indexToRemoveFollow].followersCount -= 1;\n          indexToRemoveFollow = -1;\n          console.log(\"been here\");\n        }\n      }\n      break;\n    case vacationsActionTypes.FetchVacations:\n      newState.vacations = action.payload;\n      break;\n    case vacationsActionTypes.AddVacation:\n      action.payload.isFollowing = 0;\n      action.payload.followersCount = 0;\n      newState.vacations.push(action.payload);\n      break;\n    case vacationsActionTypes.UpdateVacation:\n      const indexToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload.vacationId);\n      const isFollowing = +currentState.vacations[indexToUpdate].isFollowing;\n      const followersCount = +currentState.vacations[indexToUpdate].followersCount;\n      if (indexToUpdate >= 0) {\n        newState.vacations[indexToUpdate] = action.payload;\n        newState.vacations[indexToUpdate].isFollowing = isFollowing;\n        newState.vacations[indexToUpdate].followersCount = followersCount;\n      }\n      break;\n    case vacationsActionTypes.DeleteVacation:\n      const indexToDelete = newState.vacations.findIndex(v => v.vacationId === action.payload);\n      if (indexToDelete >= 0) {\n        newState.vacations.splice(indexToDelete, 1);\n      }\n      break;\n  }\n  return newState;\n}","map":{"version":3,"names":["VacationState","constructor","vacations","vacationsActionTypes","followAction","vacationId","action","type","FollowAction","payload","unFollowAction","addFollowerAction","removeFollowerAction","fetchVacationAction","FetchVacations","addVacationAction","vacation","AddVacation","updateVacationAction","UpdateVacation","deleteVacationAction","id","DeleteVacation","vacationsReducer","currentState","newState","isFollowingToUpdate","findIndex","v","isFollowing","isNotFollowingToUpdate","indexToAddFollow","followersCount","indexToRemoveFollow","console","log","push","indexToUpdate","indexToDelete","splice"],"sources":["/Users/doritkiron/Downloads/Vacations Project - Dor Kiron/Frontend/src/Redux/VacationState.ts"],"sourcesContent":["import VacationModel from \"../Models/VacationModel\";\n\nexport class VacationState {\n    public vacations: VacationModel[] = [];\n}\nexport enum vacationsActionTypes {\n    FetchVacations = \"FetchVacations\",\n    AddVacation = \"AddVacation\",\n    UpdateVacation = \"UpdateVacation\",\n    DeleteVacation = \"DeleteVacation\",\n    FollowAction = \"FollowVacation\",\n    unFollowAction = \"UnFollowAction\",\n    addFollowerAction = \"addFollowerAction\",\n    removeFollowerAction = \"removeFollowerAction\"\n}\n\nexport interface VacationAction {\n    type: vacationsActionTypes;\n    payload: any;\n}\n\nexport function followAction(vacationId: number): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.FollowAction, payload: vacationId }\n    return action\n}\n\nexport function unFollowAction(vacationId: number): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.unFollowAction, payload: vacationId }\n    return action;\n}\n\nexport function addFollowerAction(vacationId: number): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.addFollowerAction, payload: vacationId }\n    return action\n}\n\nexport function removeFollowerAction(vacationId: number): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.removeFollowerAction, payload: vacationId }\n    return action\n}\n\nexport function fetchVacationAction(vacations: VacationModel[]): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.FetchVacations, payload: vacations }\n    return action;\n\n}\n\nexport function addVacationAction(vacation: VacationModel): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.AddVacation, payload: vacation }\n    return action;\n\n}\n\nexport function updateVacationAction(vacation: VacationModel): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.UpdateVacation, payload: vacation }\n    return action;\n\n}\nexport function deleteVacationAction(id: number): VacationAction {\n    const action: VacationAction = { type: vacationsActionTypes.DeleteVacation, payload: id }\n    return action;\n}\n\n\nexport function vacationsReducer(currentState: VacationState = new VacationState(), action: VacationAction) {\n    const newState = { ...currentState }\n\n    switch (action.type) {\n\n        case vacationsActionTypes.FollowAction:\n            const isFollowingToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload);\n            if (newState.vacations[isFollowingToUpdate].isFollowing === 0) {\n                newState.vacations[isFollowingToUpdate].isFollowing = 1;\n            }\n            break;\n\n        case vacationsActionTypes.unFollowAction:\n            const isNotFollowingToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload);\n            if (newState.vacations[isNotFollowingToUpdate].isFollowing === 1) {\n                newState.vacations[isNotFollowingToUpdate].isFollowing = 0;\n            }\n            break;\n\n        case vacationsActionTypes.addFollowerAction:\n            let indexToAddFollow = newState.vacations.findIndex(v => v.vacationId === action.payload);\n            if (indexToAddFollow >= 0) {\n                newState.vacations[indexToAddFollow].followersCount += 1;\n                indexToAddFollow = -1;\n            }\n            break;\n\n        case vacationsActionTypes.removeFollowerAction:\n            let indexToRemoveFollow = newState.vacations.findIndex(v => v.vacationId === action.payload);\n            if (indexToRemoveFollow >= 0) {\n                if (newState.vacations[indexToRemoveFollow].followersCount > 0) {\n                    newState.vacations[indexToRemoveFollow].followersCount -= 1;\n                    indexToRemoveFollow = -1;\n                    console.log(\"been here\")\n                }\n            }\n            break;\n\n        case vacationsActionTypes.FetchVacations:\n            newState.vacations = action.payload;\n            break;\n\n        case vacationsActionTypes.AddVacation:\n            action.payload.isFollowing = 0;\n            action.payload.followersCount = 0;\n            newState.vacations.push(action.payload)\n            break;\n\n        case vacationsActionTypes.UpdateVacation:\n            const indexToUpdate = newState.vacations.findIndex(v => v.vacationId === action.payload.vacationId);\n            const isFollowing: number = +currentState.vacations[indexToUpdate].isFollowing;\n            const followersCount: number = +currentState.vacations[indexToUpdate].followersCount;\n            if (indexToUpdate >= 0) {\n                newState.vacations[indexToUpdate] = action.payload;\n                newState.vacations[indexToUpdate].isFollowing = isFollowing;\n                newState.vacations[indexToUpdate].followersCount = followersCount;\n            }\n            break;\n\n        case vacationsActionTypes.DeleteVacation:\n            const indexToDelete = newState.vacations.findIndex(v => v.vacationId === action.payload)\n            if (indexToDelete >= 0) {\n                newState.vacations.splice(indexToDelete, 1);\n            }\n            break;\n    }\n\n\n    return newState\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}