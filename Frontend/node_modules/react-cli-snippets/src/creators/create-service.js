const fs = require("fs");
const args = require("../logic/args");

function createService() {
    const serviceName = args.getServiceName();
    const tsCompletePath = args.getServiceTsCompletePath();
    const foldersCompletePath = args.getServiceFolderCompletePath();
    const tsContent = getTsContent(serviceName);
    if (!fs.existsSync(foldersCompletePath)) fs.mkdirSync(foldersCompletePath, { recursive: true });
    fs.writeFileSync(tsCompletePath, tsContent);
}

function getTsContent(serviceName) {
    const serviceNameCap = serviceName.upperFirstLetter();
    const serviceNameUncap = serviceName.lowerFirstLetter();
    
    return `class ${serviceNameCap} {
\t
}

export const ${serviceNameUncap} = new ${serviceNameCap}();
`;
}

module.exports = createService;