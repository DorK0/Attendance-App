const fs = require("fs");
const args = require("../logic/args");
const createCss = require("./create-css");

function createCC() {
    createCss();
    const componentName = args.getComponentName();
    const tsxCompletePath = args.getTsxCompletePath();
    const tsxContent = getTsxContent(componentName);
    fs.writeFileSync(tsxCompletePath, tsxContent);
}

function getTsxContent(componentName) {
    const componentNameCap = componentName.upperFirstLetter();
    
    return `import { Component } from "react";
import "./${componentName}.css";

type ${componentNameCap}Props = {
\t
};

type ${componentNameCap}State = {
\t
};

export class ${componentNameCap} extends Component<${componentNameCap}Props, ${componentNameCap}State> {

    public constructor(props: ${componentNameCap}Props) {
        super(props);
        this.state = {
\t\t\t
        };
    }

    public render(): JSX.Element {
        return (
            <div className="${componentName}">
\t\t\t\t
            </div>
        );
    }
}
`;
}

module.exports = createCC;